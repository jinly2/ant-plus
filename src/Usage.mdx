---
name: 使用
route: /usage
---

# 使用

## 表单控件 Props

Ant Plus 最核心的使用方式，便是可以在表单控件 Props 中，直接传入 `Form.Item` 的相关 Props，如：

```jsx harmony
<Form data={{ name: 'Emily' }}>
  <Input
    label="用户名"
    name="name"
    labelCol={{ span: 6 }}
    wrapperCol={{ span: 18 }}
    rules={['required', 'string']}
    tip="请输入用户名"
    colon
  />
</Form>
```

从而去除对 `Form.Item` 的依赖，简化表单代码结构。

---

以下为表单控件除自身 Props 外，可传入的 Props：

### Form.Item 可传入 Props

|                 |                   |
| --------------- | ----------------- |
| colon           | dependencies      |
| extra           | getValueFromEvent |
| getValueProps   | hasFeedback       |
| help            | htmlFor           |
| initialValue    | noStyle           |
| label           | labelAlign        |
| labelCol        | name              |
| preserve        | normalize         |
| required        | rules             |
| shouldUpdate    | trigger           |
| validateFirst   | validateStatus    |
| validateTrigger | valuePropName     |
| wrapperCol      | hidden            |

若需用 `Form.Item` 来布局，如 Ant Design 代码：

```jsx
<Form.Item labelCol={{ span: 8 }} wrapperCol={{ span: 16 }}>
  <Button>提交</Button>
</Form.Item>
```

则 Ant Plus 对应代码应为：

```jsx
<Button label="" labelCol={{ span: 8 }} wrapperCol={{ span: 16 }}>
  提交
</Button>
```

因为 Ant Plus 以 `label` 或 `name` 至少存在一个来识别节点是否为 `Form.Item`，而纯布局时 `name` 不存在，所以应传入 `label=""` 以供识别。

同时，`label=""` 也代表当前元素在表单布局中，为 `label` 文字为空的一个条目。

### 其它可传入 Props

| 属性      | 说明                                                                                                              |
| --------- | ----------------------------------------------------------------------------------------------------------------- |
| className | `Form.Item` 的 `className` 属性                                                                                   |
| style     | `Form.Item` 的 `style` 属性                                                                                       |  |
| ownClass  | `Form.Item` 内组件自身的 `className` 属性                                                                         |
| ownStyle  | `Form.Item` 内组件自身的 `style` 属性                                                                             |
| ownName   | 组件自身存在 `name` 属性，则自身 `name` 需改为 `ownName`。如 `Upload`，即为 `<Upload name="key" ownName="files">` |

## 简化版 rules

使用 Ant Design Form 时，需在 `rules` 中传入对象，如：

```jsx harmony
<Form.Item
  label="Username"
  name="name"
  rules={[
    { required: true, message: '用户名不得为空' },
    { type: 'string', whitespace: true, message: '用户名格式有误' },
    { max: 10, message: '不得超过 10 个字' },
  ]}
>
  <Input />
</Form.Item>
```

而使用 Ant Plus 时，只需在 `rules` 中传入短语字符串即可，如：

```jsx harmony
<Input name="name" rules={['required', 'string', 'max=10']} />
```

Ant Plus 提供了以下短语形式的规则，可通过 Ant Plus `Form` 组件的 [`config`](https://nanxiaobei.github.io/ant-plus/form#config) 属性自定义提示文案。

| 短语         | 规则说明     | 默认校验提示                              |
| ------------ | ------------ | ----------------------------------------- |
| 'required'   | 必填         | 'XXX 不得为空'（XXX 为 label 字段，下同） |
| 'whitespace' | 不允许仅空格 | 'XXX 格式有误'                            |
| 'string'     | 字符串       | 'XXX 格式有误'                            |
| 'number'     | 数值         | 'XXX 格式有误'                            |
| 'array'      | 数组         | 'XXX 格式有误'                            |
| 'email'      | 邮箱         | 'XXX 格式有误'                            |
| 'phone'      | 手机号       | 'XXX 格式有误'                            |
| 'id'         | 身份证号     | 'XXX 格式有误'                            |
| 'max=10'     | 最大字符长度 | '不得超过 X 个字' （X 为数值，下同）      |
| 'min=2'      | 最小字符长度 | '不得少于 X 个字'                         |

同时遵循渐进增强的理念，当遇到未在以上列出的规则或需自定义规则时，仍可使用传入对象的方式，字符串与对象可同时使用。

注意 `max` 与 `min` 的使用方式为 `'max=10'` `'min=2'`，以 `'='` 分割。
